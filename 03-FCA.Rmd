# FCA

## Funciones para visualización de fcaR
La función plot_interactivo nos devolverá un objeto plot_ly donde estará nuestra representación gráfica del fcaR.
En la función plot_dendograma, dibujará el mapa de calor donde las columnas y las filas estarán ordenadas en función del resultado del dendograma, se le puede pasa opciones de la función heatmap.

```{r}
plot_interactivo <- function(fca){
  matriz_descompuesta <- as.matrix(t(fca[["I"]]))
  plot_interactivo <- plot_ly(z=matriz_descompuesta, data=as.data.frame(matriz_descompuesta), type = "heatmap", colors = "Greys", x=colnames(matriz_descompuesta), y=rownames(matriz_descompuesta))%>% layout(xaxis = list(autotypenumbers ='strict', type='category'), yaxis = list(autotypenumbers ='strict', dtick=1 ))
  return(plot_interactivo)
}
plot_dendograma <- function(fca){
  matriz_descompuesta <- as.matrix(t(fca[["I"]]))
  heatmap(matriz_descompuesta, col=c("White","Black"))
}
plot_dendograma_interactico <- function(fca){
  matriz_descompuesta <- as.matrix(t(fca[["I"]]))
  heatmaply(matriz_descompuesta, col=c("White","Black"))
}
```

## Formal Concepts Analysis
A continuación voy a aplicar FCA y sacaré la representación del plot de fca en un mapa de calor, usando las funciones de plot_interactivo, plot_dendograma y plot_dendograma_interactivo. Obtenemos un total de 24 conceptos irreducibles que serían los grupos de antivirus que hay y 75 implicaciones irreducibles que se corresponderían a los grupos de archivos con resultados distintos.

```{r}
datos_df_filtrados <- datos_df_filtrados*1
atributes <- colnames(datos_df_filtrados)
json_df_filtrados<- cbind(json_df_filtrados[,1:3], datos_df_filtrados)

fc_detected <- FormalContext$new(datos_df_filtrados)
fc_detected$clarify()
fc_detected$reduce()
fc_detected$plot()
fc_detected$find_concepts()
fc_detected$find_implications()
fc_detected$standardize()

fc_detected$implications
mapa_calor <- plot_interactivo(fc_detected)
mapa_calor

plot_dendograma(fc_detected )

```


